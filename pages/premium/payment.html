<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Payment Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900">
  <!-- Header -->
	<header class="flex items-center justify-between px-4 py-3 bg-white shadow">
    <img src="/img/logo/app-logo.png" alt="SwapIt Logo" class="h-8">
    <div class="w-9 h-9 bg-gray-200 rounded-full flex items-center justify-center">
      <img src="/img/profile/profile.svg" class="h-5 w-5 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 4.797.758 6.879 2.052M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      
    </div>
  </header>

  <header class="bg-[#0E4D22] text-white">
    <div class="max-w-md mx-auto relative px-4 pt-6 pb-5">
      <h1 class="text-center font-semibold">Payment Portal</h1>
      <!-- Close button only (right) -->
      <button
        type="button"
        aria-label="Close"
        class="absolute right-3 top-5 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition"
        onclick="alert('Close pressed')">
        ✕
      </button>
    </div>
    <!-- curved white top like in mock -->
    <div class="max-w-md mx-auto bg-white rounded-t-3xl h-6"></div>
  </header>

  <!-- Container -->
  <main class="max-w-md mx-auto bg-white px-4 pb-28">
    <!-- Helper text -->
    <section class="text-center text-xs text-gray-500 pt-6 pb-4 leading-snug">
      <p>Choose your preferred payment method<br>
      and securely complete your transaction.</p>
      <p class="mt-1">All major cards, wallets, and bank<br>transfers supported.</p>
    </section>

    <!-- Step 1 / Step 2: custom dropdown -->
    <div class="mb-6">
      <label class="block text-sm font-semibold mb-2">Choose Payment Method</label>

      <!-- Trigger -->
      <button id="pmTrigger"
        class="w-full flex items-center justify-between rounded border border-gray-300 bg-white px-3 py-2 text-sm"
        type="button" aria-haspopup="listbox" aria-expanded="false">
        <span id="pmSelected" class="text-gray-500">-- Select Payment Method --</span>
        <svg class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
        </svg>
      </button>

      <!-- Menu -->
      <div id="pmMenu"
           class="mt-1 hidden rounded border border-gray-200 shadow-md overflow-hidden text-sm">
        <button class="w-full text-left px-3 py-2 hover:bg-gray-50"
                data-value="card">Credit/Debit Card</button>
        <div class="h-px bg-gray-100"></div>
        <button class="w-full text-left px-3 py-2 hover:bg-gray-50"
                data-value="bank">Bank Transfer</button>
        <div class="h-px bg-gray-100"></div>
        <button class="w-full text-left px-3 py-2 hover:bg-gray-50"
                data-value="ussd">USSD Payment</button>
      </div>
    </div>

    <!-- Step 3: Credit Card form -->
    <form id="cardForm" class="hidden" novalidate>
      <h2 class="text-green-600 font-semibold text-lg text-center mb-3">Credit Card</h2>

      <label class="block text-xs font-medium text-gray-600 mb-1">Cardholder Name <span class="text-red-500">*</span></label>
      <input required name="holder"
        class="w-full mb-3 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="John Doe" />

      <label class="block text-xs font-medium text-gray-600 mb-1">Card Number <span class="text-red-500">*</span></label>
      <input required name="number" inputmode="numeric" pattern="^[0-9 ]{12,19}$"
        class="w-full mb-3 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="0000 1111 2222 3333" />

      <div class="grid grid-cols-2 gap-3">
        <div>
          <label class="block text-xs font-medium text-gray-600 mb-1">Expiry Date <span class="text-red-500">*</span></label>
          <input required name="exp" pattern="^(0[1-9]|1[0-2])\/\d{2}$"
            class="w-full rounded border border-gray-300 px-3 py-2 text-sm"
            placeholder="01/26" />
        </div>
        <div>
          <label class="block text-xs font-medium text-gray-600 mb-1">Cvv <span class="text-red-500">*</span></label>
          <input required name="cvv" inputmode="numeric" pattern="^\d{3,4}$"
            class="w-full rounded border border-gray-300 px-3 py-2 text-sm"
            placeholder="123" />
        </div>
      </div>

      <p class="mt-4 text-center text-[11px] text-gray-500">
        By proceeding, you accept our
        <a href="#" class="text-green-600 underline">Terms of Use</a> and
        <a href="#" class="text-green-600 underline">Privacy Policy</a>.
      </p>

      <button id="cardBtn" disabled
        class="mt-3 w-full rounded bg-orange-500 py-2.5 text-white font-semibold disabled:opacity-40 disabled:cursor-not-allowed">
        Signup
      </button>
    </form>

    <!-- Step 4: Bank Transfer -->
    <form id="bankForm" class="hidden" novalidate>
      <label class="block text-xs font-medium text-gray-600 mb-1">Transfer to:</label>
      <p class="text-green-700 text-sm font-medium">Afromark Swap Ltd.</p>
      <p class="text-green-700 text-sm mb-3">Zenith bank · 0123456789</p>

      <label class="block text-xs font-medium text-gray-600 mb-1">Account Name</label>
      <input required name="acctName"
        class="w-full mb-3 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="e.g. John Doe" />

      <label class="block text-xs font-medium text-gray-600 mb-1">Payment Reference <span class="text-red-500">*</span></label>
      <input required name="ref"
        class="w-full mb-4 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="Transfer ID or Screenshot ref." />

      <button id="bankBtn" disabled
        class="w-full rounded bg-orange-500 py-2.5 text-white font-semibold disabled:opacity-40 disabled:cursor-not-allowed">
        I have Made Payment
      </button>
    </form>

    <!-- Step 5: USSD Payment -->
    <form id="ussdForm" class="hidden" novalidate>
      <p class="text-green-700 text-sm mb-3">
        Dial this USSD Code: <span class="font-semibold">*</span>737*000*5000#
      </p>

      <label class="block text-xs font-medium text-gray-600 mb-1">Phone Number Used</label>
      <input required name="phone"
        class="w-full mb-3 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="080 xxxx xxxx" />

      <label class="block text-xs font-medium text-gray-600 mb-1">Transaction Reference <span class="text-red-500">*</span></label>
      <input required name="txref"
        class="w-full mb-4 rounded border border-gray-300 px-3 py-2 text-sm"
        placeholder="Transaction no." />

      <button id="ussdBtn" disabled
        class="w-full rounded bg-orange-500 py-2.5 text-white font-semibold disabled:opacity-40 disabled:cursor-not-allowed">
        I have Made Payment
      </button>
    </form>
  </main>

  <!-- Sticky bottom spacer (like mobile safe area) -->
  <div class="h-6"></div>

  <script>
    // Elements
    const pmTrigger = document.getElementById('pmTrigger');
    const pmMenu    = document.getElementById('pmMenu');
    const pmSelected= document.getElementById('pmSelected');

    const cardForm  = document.getElementById('cardForm');
    const bankForm  = document.getElementById('bankForm');
    const ussdForm  = document.getElementById('ussdForm');

    const cardBtn   = document.getElementById('cardBtn');
    const bankBtn   = document.getElementById('bankBtn');
    const ussdBtn   = document.getElementById('ussdBtn');

    // Toggle dropdown
    pmTrigger.addEventListener('click', () => {
      pmMenu.classList.toggle('hidden');
      pmTrigger.setAttribute('aria-expanded', pmMenu.classList.contains('hidden') ? 'false' : 'true');
    });

    // Click outside to close
    document.addEventListener('click', (e) => {
      if (!pmTrigger.contains(e.target) && !pmMenu.contains(e.target)) {
        pmMenu.classList.add('hidden');
        pmTrigger.setAttribute('aria-expanded', 'false');
      }
    });

    // Switch content on select
    pmMenu.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', () => {
        const value = btn.dataset.value;
        // close dropdown
        pmMenu.classList.add('hidden');
        pmTrigger.setAttribute('aria-expanded', 'false');

        // label
        pmSelected.classList.remove('text-gray-500');
        if (value === 'card') pmSelected.textContent = 'Credit/Debit Card';
        if (value === 'bank') pmSelected.textContent = 'Bank Transfer';
        if (value === 'ussd') pmSelected.textContent = 'USSD Payment';

        // show relevant section (Step 3/4/5)
        [cardForm, bankForm, ussdForm].forEach(f => f.classList.add('hidden'));
        if (value === 'card')  cardForm.classList.remove('hidden');
        if (value === 'bank')  bankForm.classList.remove('hidden');
        if (value === 'ussd')  ussdForm.classList.remove('hidden');

        // reset buttons (disabled until valid)
        [cardBtn, bankBtn, ussdBtn].forEach(b => { if (b) b.disabled = true; });
      });
    });

    // Utility: enable button only when form valid
    function bindValidity(form, button) {
      if (!form || !button) return;
      const watcher = () => { button.disabled = !form.checkValidity(); };
      form.addEventListener('input', watcher);
      form.addEventListener('change', watcher);
      form.addEventListener('keyup', watcher);
      // initial
      watcher();
    }

    bindValidity(cardForm, cardBtn);
    bindValidity(bankForm, bankBtn);
    bindValidity(ussdForm, ussdBtn);

    // Optional demo submit handlers
    [cardForm, bankForm, ussdForm].forEach(f => {
      if (!f) return;
      f.addEventListener('submit', (e) => {
        e.preventDefault();
        if (!f.checkValidity()) return; // extra safety
        alert('Submitted: ' + (f.id));
      });
    });
  </script>
</body>
</html>
