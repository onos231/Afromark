<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Premium</title>
  <link href="../../dist/output.css" rel="stylesheet">
</head>
<body class="bg-white text-gray-900 dark:bg-gray-900">

  <!-- Top header -->


	<!-- Header -->
	<header class="flex items-center justify-between px-4 py-3 bg-white shadow">
    <img src="/img/logo/app-logo.png" alt="SwapIt Logo" class="h-8">
    <a href="/all-users/profile.html"><div class="w-9 h-9 bg-gray-200 rounded-full flex items-center justify-center">
      <img src="/img/profile/profile.svg" class="h-5 w-5 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 4.797.758 6.879 2.052M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      
		</div></a>
  </header>

  <header class="bg-[#0E4D22] text-white">
    <div class="max-w-md mx-auto relative px-4 pt-6 pb-5">
      <h1 class="text-center font-semibold">Preview Submission</h1>
      
    </div>
    <!-- curved white top like in mock -->
    <div class="max-w-md mx-auto bg-white dark:bg-gray-900 rounded-t-3xl h-6"></div>
  </header>

  <!-- Content -->
  <main class="mx-auto max-w-md px-4 py-6 space-y-6">
    <!-- Summary -->
    <section class="bg-white dark:bg-gray-800 rounded-md shadow p-5">
      <h2 class="text-xl font-bold mb-4 text-green-700 dark:text-green-200">Business Info</h2>
      <dl class="space-y-3 text-gray-700">
        <div class="flex justify-between gap-4">
          <dt class="font-medium text-gray-500 dark:text-green-200">Name</dt>
          <dd id="pName" class="text-right max-w-[60%]"></dd>
        </div>
        <div class="flex justify-between gap-4">
          <dt class="font-medium text-gray-500 dark:text-green-200">Category</dt>
          <dd id="pCategory" class="text-right max-w-[60%]"></dd>
        </div>
        <div>
          <dt class="font-medium text-gray-500 dark:text-green-200">Bio</dt>
          <dd id="pBio" class="mt-1"></dd>
        </div>
        <div class="flex justify-between gap-4">
          <dt class="font-medium text-gray-500 dark:text-green-200">Focus</dt>
          <dd id="pFocus" class="text-right max-w-[60%]"></dd>
        </div>
        <div class="flex justify-between gap-4">
          <dt class="font-medium text-gray-500 dark:text-green-200">Capacity (₦)</dt>
          <dd id="pCapacity" class="text-right max-w-[60%]"></dd>
        </div>
        <div class="flex justify-between gap-4">
          <dt class="font-medium text-gray-500 dark:text-green-200">Experience</dt>
          <dd id="pExperience" class="text-right max-w-[60%]"></dd>
        </div>
      </dl>
    </section>

    <!-- Files -->
    <section class="bg-white dark:bg-gray-800 rounded-2xl shadow p-5 space-y-5">
      <h2 class="text-xl font-bold text-green-700 dark:text-green-200">Uploaded Files</h2>

      <!-- Photo -->
      <div id="photoBlock" class="hidden">
        <h3 class="font-medium text-gray-700 mb-2">Profile Photo / Logo</h3>
        <img id="photoImg"
             class="w-full max-h-80 object-contain rounded-xl border"
             alt="Uploaded image preview" />
        <p id="photoName" class="text-sm text-gray-500 mt-2"></p>
      </div>

      <!-- ID Doc (PDF or image) -->
      <div id="docBlock" class="hidden">
        <h3 class="font-medium text-gray-700 mb-2">ID Document (Optional)</h3>
        <!-- Shown if PDF -->
        <embed id="docPdf" type="application/pdf"
               class="hidden w-full h-96 rounded-xl border" />
        <!-- Shown if image -->
        <img id="docImg"
             class="hidden w-full max-h-96 object-contain rounded-xl border"
             alt="Uploaded document image preview" />
        <p id="docName" class="text-sm text-gray-500 mt-2"></p>
      </div>
    </section>
  </main>

  <!-- Sticky footer actions -->
  <footer class="sticky bottom-0 bg-white border-t dark:bg-gray-900">
    <div class="mx-auto max-w-md px-4 py-4 space-y-3">
      <button id="editBtn"
              class="w-full dark:border-gray-500 dark:bg-gray-900 rounded-md border border-gray-300 bg-gray-100 text-gray-700 dark:text-gray-300 py-2 text-base font-medium hover:bg-gray-200" onclick="window.location.href='premium-search.html'">
        Edit
      </button>
      <button id="submitBtn"
              class="w-full rounded-md bg-yellow-600 text-white py-2 text-base font-semibold hover:bg-yellow-700" onclick="window.location.href='premium-search.html'">
        Submit
      </button>
    </div>
  </footer>

  <script>
    // Read data
    const raw = localStorage.getItem('investorPreviewData');
    let data = {};
    try { data = raw ? JSON.parse(raw) : {}; } catch (e) {}

    // Fill text
    const set = (id, text) => { const el = document.getElementById(id); if (el) el.textContent = text || '—'; };
    set('pName', data.name);
    set('pCategory', data.category);
    set('pBio', data.bio);
    set('pFocus', data.focus);
    set('pCapacity', data.capacity);
    set('pExperience', data.experience);

    // Photo
    if (data.photoURL) {
      const img = document.getElementById('photoImg');
      img.src = data.photoURL;
      document.getElementById('photoName').textContent = data.photoName || '';
      document.getElementById('photoBlock').classList.remove('hidden');
    }

    // ID doc: PDF or image
    if (data.idDocURL) {
      const isPdf = (data.idDocType || '').includes('pdf') || (data.idDocName || '').toLowerCase().endsWith('.pdf');
      const pdf = document.getElementById('docPdf');
      const img = document.getElementById('docImg');
      if (isPdf) {
        pdf.src = data.idDocURL;
        pdf.classList.remove('hidden');
      } else {
        img.src = data.idDocURL;
        img.classList.remove('hidden');
      }
      document.getElementById('docName').textContent = data.idDocName || '';
      document.getElementById('docBlock').classList.remove('hidden');
    }

    // Buttons
    document.getElementById('closeBtn').onclick = () => window.close();
    document.getElementById('editBtn').onclick = () => window.close();
    document.getElementById('submitBtn').onclick = () => {
      if (window.opener && !window.opener.closed) {
        window.opener.postMessage('SUBMIT_INVESTOR_FORM', '*');
      }
      window.close();
    };

    // Clean up the stored data when leaving the preview
    window.addEventListener('unload', () => {
      localStorage.removeItem('investorPreviewData');
    });
  </script>
	
	<script src="js/script.js"></script>
	<script src="../../js/script.js"></script>
</body>
</html>
