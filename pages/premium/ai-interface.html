<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SwapIt - Home</title>

	<link href="../../dist/output.css" rel="stylesheet">

</head>

<body class="dark:bg-gray-900 text-black dark:text-white font-sans">

 <!-- Header -->
	<header class="flex items-center justify-between px-4 py-3 bg-white shadow">
    <img src="../../img/logo/app-logo.png" alt="SwapIt Logo" class="h-8">
    <a href="../../all-users/settings.html"><div class="w-9 h-9 bg-gray-200 rounded-full flex items-center justify-center">
      <img src="../../img/profile/profile.svg" class="h-5 w-5 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 4.797.758 6.879 2.052M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      
		</div></a>
  </header>

  <header class="bg-[#0E4D22] text-white">
    <div class="max-w-md mx-auto relative px-4 pt-6 pb-5">
      <h1 class="text-center font-semibold">For everyone: readers and non-readers.<br>
      Use typing or voice command.</h1>
      
    </div>
	  <div class="flex justify-between items-center px-20 py-2 dark:border-gray-900">
    <button onclick="window.location.href='my-swaps.html'" class="text-sm font-bold font-Kodchasan text-green-200 dark:text-green-200">Swaps</button>
    <button onclick="window.location.href='posting.html'" class="px-3 py-1 rounded text-sm font-bold font-Kodchasan text-green-200 border border-gray-300 dark:text-green-200">+ Post Swap</button>
  </div>
    <!-- curved white top like in mock -->
    <div class="max-w-md mx-auto bg-white dark:bg-gray-900 rounded-t-3xl h-6"></div>
  </header>

  

  <!-- ==== MAIN INTERFACE (Under your header/nav) ==== -->
  <main class="max-w-sm mx-auto p-4 pb-28">

    <!-- Search & AI Panel -->
    <section class="space-y-3">
      <label class="text-sm font-semibold text-gray-700 dark:text-gray-300">What do you have or need?</label>
      <div class="flex gap-2">
        <input id="searchInput" type="text"
          placeholder="e.g., Onions, 1 basket"
          class="flex-1 rounded-lg border border-gray-200 dark:border-gray-900 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-800">
        <button id="aiToggle"
          class="px-3 py-2 rounded-lg bg-green-600 text-white text-sm font-medium">AI</button>
      </div>

      <!-- Suggestion chips -->
      <div id="chips" class="flex flex-wrap gap-2 text-sm">
        <button class="px-3 py-1 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 rounded-full text-gray-700 dark:text-white">Onions</button>
        <button class="px-3 py-1 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 rounded-full text-gray-700 dark:text-white">Rice</button>
        <button class="px-3 py-1 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 rounded-full text-gray-700 dark:text-white">Yam</button>
        
        <button class="px-3 py-1 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 rounded-full text-gray-700 dark:text-white">Donate surplus</button>
      </div>

      <!-- AI info card -->
      <div id="aiCard" class="hidden rounded-xl border border-green-100 dark:border-gray-900 bg-green-50 p-4 dark:bg-gray-800">
        <div class="flex justify-between items-start">
          <div>
            <p class="text-sm font-semibold text-green-800 dark:text-green-200">Afromark Assistant</p>
            <p class="text-xs text-green-700 dark:text-green-200">AI found 3 matches near you</p>
          </div>
          <span class="text-xs text-green-600 dark:text-green-200">AI v1.0</span>
        </div>

        <div class="grid grid-cols-2 gap-3 mt-3 text-sm">
          <div class="bg-white dark:bg-gray-900 rounded-md p-2 text-center shadow-sm">
            <p class="text-xs text-gray-500 dark:text-gray-300">Best Match</p>
            <p class="font-semibold text-green-700 dark:text-green-200">3 nearby listings</p>
          </div>
          <div class="bg-white rounded-md p-2 text-center shadow-sm dark:bg-gray-900">
            <p class="text-xs text-gray-500 dark:text-gray-300">Trust</p>
            <p class="font-semibold text-green-700 dark:text-green-200">Avg. 4.4⭐</p>
          </div>
        </div>

        <div class="mt-3 flex gap-2">
          <button class="flex-1 bg-green-600 text-white text-sm rounded-md py-1" id="autoSuggestBtn">Auto-suggest</button>
          <button class="flex-1 border border-green-300 dark:border-gray-500 text-green-700 text-sm rounded-md py-1 dark:text-green-200" id="prepNegBtn">Prep negotiation</button>
        </div>
      </div>
    </section>

    <!-- Match Results -->
    <section class="mt-10 space-y-3">
      <h3 class="text-sm font-semibold text-gray-800 dark:text-gray-300">Suggested Matches</h3>

      <!-- Card 1 -->
		<div class="space-y-10">
      <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl p-5 shadow-sm">
        <div class="flex gap-3">
          <div class="w-14 h-14 bg-gray-100 rounded-md flex items-center justify-center text-gray-400 text-xs dark:bg-gray-800"><img 
    src="../../img/free-swap/onions.jpg" 
    alt="Food Item" 
    class="w-16 h-16 object-cover rounded-lg mb-3"
  /></div>
          <div class="flex-1">
            <p class="text-sm font-semibold text-gray-800 dark:text-gray-300">1 Basket of Onions</p>
            <p class="text-xs text-gray-500 dark:text-gray-300">Wants: 3 Tubers of Yam</p>
            <div class="flex justify-between items-center mt-1 ">
              <span class="text-xs text-gray-400 dark:text-gray-300">Lagos • 400m</span>
              <span class="bg-green-100 text-green-800 dark:text-green-200 dark:bg-gray-900 text-xs px-2 py-1 rounded-full ">⭐4.6</span>
            </div>
            <p class="text-sm text-gray-600 mt-1 dark:text-gray-300">Prefer fresh, big tubers</p>
            <div class="mt-2 flex gap-2">
              <button class="flex-1 bg-green-600 text-white text-sm rounded-md py-1" onclick="openNegotiation('1 Basket of Onions','3 Tubers of Yam')">Request Swap</button>
              <button class="flex-1 border border-gray-200 dark:border-gray-500 text-sm rounded-md py-1" onclick="openSchedule()">Schedule</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="bg-white dark:bg-gray-800 border rounded-xl p-5 dark:border-gray-700 shadow-sm">
        <div class="flex gap-3">
          <div class="w-14 h-14 bg-gray-100 rounded-md flex items-center justify-center text-gray-400 text-xs dark:bg-gray-800"><img 
    src="../../img/free-swap/onions.jpg" 
    alt="Food Item" 
    class="w-16 h-16 object-cover rounded-lg mb-3"
  /></div>
          <div class="flex-1">
            <p class="text-sm font-semibold text-gray-800 dark:text-gray-300">10 bulbs of Onions</p>
            <p class="text-xs text-gray-500 dark:text-gray-300">Wants: 8 cups of Rice</p>
            <div class="flex justify-between items-center mt-1">
              <span class="text-xs text-gray-400 dark:text-gray-300">Lagos • 1.2km</span>
              <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full dark:text-green-200 dark:bg-gray-900">⭐4.2</span>
            </div>
            <p class="text-sm text-gray-600 mt-1 dark:text-gray-300">Can trade more onions for more rice</p>
            <div class="mt-2 flex gap-2">
              <button class="flex-1 bg-green-600 text-white text-sm rounded-md py-1" onclick="openNegotiation('10 bulbs of Onions','8 cups of Rice')">Request Swap</button>
              <button class="flex-1 border border-gray-200 dark:border-gray-500 text-sm rounded-md py-1" onclick="openSchedule()">Schedule</button>
            </div>
          </div>
        </div>
      </div>
			</div>
    </section>

    <!-- Negotiation Modal -->
    <div id="modal" class="fixed inset-0 hidden bg-black flex items-end justify-center">
      <div class="bg-white dark:bg-gray-900 rounded-t-2xl p-4 w-full max-w-sm mt-10">
        <h3 class="text-sm font-semibold text-gray-800 dark:text-gray-300" id="modalTitle">Negotiate</h3>
        <textarea id="negText" rows="4"
          class="w-full mt-3 border border-gray-200 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-800 dark:text-gray-300"></textarea>
        <div class="flex justify-between mt-3">
          <button class="text-sm text-gray-500 dark:text-gray-300" onclick="closeModal()">Cancel</button>
          <button class="bg-green-600 text-white px-4 py-1 text-sm rounded-md" onclick="sendNegotiation()">Send</button>
        </div>
      </div>
    </div>

    <!-- Schedule Modal -->
    <div id="scheduleModal" class="fixed inset-0 hidden bg-black flex items-end justify-center">
      <div class="bg-white dark:bg-gray-900 rounded-t-2xl p-4 w-full max-w-sm mt-10">
        <h3 class="text-sm font-semibold text-gray-800 mb-3 dark:text-gray-300">Schedule Meeting</h3>

        <label class="block text-xs text-gray-600 mb-1 dark:text-gray-300">Date</label>
        <input id="scheduleDate" type="date" class="w-full border border-gray-200 dark:border-gray-500 rounded-md p-2 text-sm mb-3 focus:ring-2 focus:ring-green-500 dark:bg-gray-800">

        <label class="block text-xs text-gray-600 mb-1 dark:text-gray-300">Time</label>
        <input id="scheduleTime" type="time" class="w-full border border-gray-200 dark:border-gray-500 rounded-md p-2 text-sm mb-3 focus:ring-2 focus:ring-green-500 dark:bg-gray-800">

        <label class="block text-xs text-gray-600 mb-1 dark:text-gray-300">Location</label>
        <input id="scheduleLocation" type="text" placeholder="e.g., Community Hall, GRA Benin"
          class="w-full border border-gray-200 dark:border-gray-500 rounded-md p-2 text-sm mb-4 focus:ring-2 focus:ring-green-500 dark:bg-gray-800">

        <div class="flex justify-between">
          <button class="text-sm text-gray-500 dark:text-gray-300" onclick="closeSchedule()">Cancel</button>
          <button class="bg-green-600 text-white px-4 py-1 text-sm rounded-md" onclick="confirmSchedule()">Confirm</button>
        </div>
      </div>
    </div>
  </main>

  <!-- ==== JAVASCRIPT LOGIC ==== -->
  <script>
    const aiToggle = document.getElementById('aiToggle');
    const aiCard = document.getElementById('aiCard');
    const chips = document.querySelectorAll('#chips button');
    const searchInput = document.getElementById('searchInput');

    aiToggle.addEventListener('click', () => {
      aiCard.classList.toggle('hidden');
    });

    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        searchInput.value = chip.textContent.trim();
        aiCard.classList.remove('hidden');
      });
    });

    document.getElementById('autoSuggestBtn')?.addEventListener('click', () => {
      alert('AI suggests best swaps and fills negotiation templates.');
    });
    document.getElementById('prepNegBtn')?.addEventListener('click', () => {
      alert('AI pre-fills safe negotiation and meeting suggestions.');
    });

    // Negotiation Modal
    const modal = document.getElementById('modal');
    const negText = document.getElementById('negText');
    const modalTitle = document.getElementById('modalTitle');

    function openNegotiation(offer, want) {
      modal.classList.remove('hidden');
      modalTitle.textContent = `Negotiate: ${offer} ↔ ${want}`;
      negText.value = `Hi! I can offer ${offer}. Would you accept ${want}?`;
    }
    function closeModal() {
      modal.classList.add('hidden');
      negText.value = '';
    }
    function sendNegotiation() {
      alert('Negotiation sent:\n\n' + negText.value);
      closeModal();
    }

    // Schedule Modal
    const scheduleModal = document.getElementById('scheduleModal');
    const scheduleDate = document.getElementById('scheduleDate');
    const scheduleTime = document.getElementById('scheduleTime');
    const scheduleLocation = document.getElementById('scheduleLocation');

    function openSchedule() {
      scheduleModal.classList.remove('hidden');
    }
    function closeSchedule() {
      scheduleModal.classList.add('hidden');
      scheduleDate.value = '';
      scheduleTime.value = '';
      scheduleLocation.value = '';
    }
    function confirmSchedule() {
      const d = scheduleDate.value || 'unspecified date';
      const t = scheduleTime.value || 'unspecified time';
      const l = scheduleLocation.value || 'unspecified location';
      alert(`Meeting scheduled successfully!\n\n📅 ${d}\n⏰ ${t}\n📍 ${l}`);
      closeSchedule();
    }
  </script>
	
	<script src="js/script.js"></script>
	<script src="../../js/script.js"></script>
</body>
</html>

